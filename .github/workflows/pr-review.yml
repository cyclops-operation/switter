name: Pull Request Review

on:
  pull_request_review:
    types: [submitted]

jobs:
  approved:
    if: ${{ github.event.review.state == 'approved' }}
    name: PR approved alarm
    runs-on: ubuntu-latest
    steps:
      - name: Send comment alarm message
        uses: appleboy/telegram-action@master
        with:
          to: ${{ secrets.TELEGRAM_CHAT_ID }}
          token: ${{ secrets.TELEGRAM_TOKEN }}
          format: markdown
          message: |
            PRì´ ì„±ê³µì ìœ¼ë¡œ ìŠ¹ì¸ë˜ì—ˆì–´ìš”! âœ…

            ğŸ“° PR ì œëª©: ${{ github.event.pull_request.title }}
            ğŸ‘¤ PR ì‘ì„±ì: ${{ github.event.pull_request.user.login }}
            ğŸ—£ï¸ ë¦¬ë·°ì–´: ${{ github.event.review.user.login }}

            ë‹¤ìŒ [ë§í¬](${{ github.event.pull_request.html_url }})ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”!

  comment:
    if: ${{ github.event.review.state == 'dismissed' }}
    name: Comment alarm
    runs-on: ubuntu-latest
    steps:
      - name: Send comment alarm message
        uses: appleboy/telegram-action@master
        with:
          to: ${{ secrets.TELEGRAM_CHAT_ID }}
          token: ${{ secrets.TELEGRAM_TOKEN }}
          format: markdown
          message: |
            PR ìš”ì²­ì— ëŒ€í•œ ë‹µë³€ì´ ë‹¬ë ¸ì–´ìš”! ğŸ’¬

            ğŸ“° PR ì œëª©: ${{ github.event.pull_request.title }}
            ğŸ‘¤ PR ì‘ì„±ì: ${{ github.event.pull_request.user.login }}
            ğŸ—£ï¸ ë¦¬ë·°ì–´: ${{ github.event.review.user.login }}

            ë‹¤ìŒ [ë§í¬](${{ github.event.pull_request.html_url }})ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”!

  change_requested:
    if: ${{ github.event.review.state == 'changes_requested' }}
    name: Changed requested alarm
    runs-on: ubuntu-latest
    steps:
      - name: Send comment alarm message
        uses: appleboy/telegram-action@master
        with:
          to: ${{ secrets.TELEGRAM_CHAT_ID }}
          token: ${{ secrets.TELEGRAM_TOKEN }}
          format: markdown
          message: |
            PR ìˆ˜ì • ìš”ì²­ì„ ë³´ëƒˆìŠµë‹ˆë‹¤! ğŸ–‹ï¸

            ğŸ“° PR ì œëª©: ${{ github.event.pull_request.title }}
            ğŸ‘¤ PR ì‘ì„±ì: ${{ github.event.pull_request.user.login }}
            ğŸ—£ï¸ ë¦¬ë·°ì–´: ${{ github.event.review.user.login }}

            ë‹¤ìŒ [ë§í¬](${{ github.event.pull_request.html_url }})ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”!
